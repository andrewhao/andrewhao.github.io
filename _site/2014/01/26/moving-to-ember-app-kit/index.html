
<!doctype html>
<!-- START OF _layouts/default.html -->
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" >
		<meta content="width=device-width,initial-scale=1" name="viewport">
		<meta content="Andrew Hao's thoughts on software engineering, team leadership & product design." name="description">
		<meta content="The Sweet Spot" name="author">

		<title>Moving to Ember App Kit &mdash; The Sweet Spot</title>

		<!-- Styles -->
		<link href="/stylesheets/main.css" rel="stylesheet">

		<!-- Google webfonts -->
    <link href="https://fonts.googleapis.com/css?family=Cousine|Suez+One|Yellowtail|Space+Mono|Alike+Angular" rel="stylesheet">

		<!-- jQuery and plugins -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="/js/jquery.zclip.min.js"></script>

		<!-- Syntax highlighter -->
		<link href="/stylesheets/prettify-hemisu.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="/js/prettify.js"></script>

    <link href="" rel="alternate" title="The Sweet Spot" type="application/atom+xml">
    


  </head>

	<body onload="prettyPrint()">
		<div class="wrap">

			<header>
        <a href="/"><div class="title">The Sweet Spot</div></a>
				<div class="subtitle">On software, engineering leadership, and anything shiny.</div>

				<div class="navi">
					<ul>
						<li><a href="/">Articles</a></li>
						<li><a href="/talks">Talks</a></li>
						<li><a href="/notes">Conference Notes</a></li>
						<li><a href="https://www.github.com/andrewhao">Github</a></li>
						<li><a href="https://twitter.com/andrewhao">Twitter</a></li>
					</ul>
				</div> <!-- // .navi -->
			</header>

				<!-- START OF _layouts/post.html -->

<!-- START OF _includes/article.html -->
<article>
	<header>
		<h1><a href="/2014/01/26/moving-to-ember-app-kit/">Moving to Ember App Kit</a></h1>
		<time>26 January 2014</time>
	</header>
		<div class="content">
			<p>I’ve noticed a bit of the buzz around <a href="https://github.com/stefanpenner/ember-app-kit">Ember App Kit</a>
recently and decided to move Hendrix, my music management app, over from
a <a href="http://yeoman.io/">Yeoman</a>-generated Ember app to EAK with all its
bells and whistles.</p>

<h3 id="whats-the-difference">What’s the difference?</h3>

<p>Well on the surface, the two frameworks aren’t very different. The
standard Yeoman build tool sets you up with Grunt and Bower, which is
what EAK provides you out of the box. The cool stuff happens when you
dive under the hood: ES6 module transpilation and an AMD-compatible
Ember Resolver, built-in Karma integration and a built-in API stub
framework for development and test environments.</p>

<h3 id="the-joys-of-modules">The joys of modules</h3>

<p>What I didn’t realize was that compiling to ES6 modules required that my
filenames be renamed exactly how the modules were going to be placed,
with the extra caveat that resource actions needed to live in their own
directories. Recall that in the old way of doing things with globals and
namespaces, you could get away with throwing a route file like this in
your app directory:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes/
  songs_index_controller.js
</code></pre></div></div>

<p>And inside:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyApp</span><span class="p">.</span><span class="nx">SongsIndexRoute</span> <span class="o">=</span> <span class="nx">Ember</span><span class="p">.</span><span class="nx">Route</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="c1">//...</span>
<span class="p">});</span>
</code></pre></div></div>

<p>In EAK’s world, you need to nest the file under the <code class="highlighter-rouge">songs/</code> directory,
and strip the type from the filename, like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes/
  songs/
    index.js
</code></pre></div></div>

<p>Inside the file, you assign the function to a variable and let it be
exported in the default namespace.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">SongsIndexRoute</span> <span class="o">=</span> <span class="nx">Ember</span><span class="p">.</span><span class="nx">Route</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="c1">//...</span>
<span class="p">});</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">SongsIndexRoute</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="file-name-matters">File name matters</h3>

<p>The <a href="https://github.com/stefanpenner/ember-jj-abrams-resolver/">new Ember resolver</a> 
loads modules in a smart way – according to how the framework
structures resources, controllers and their corresponding actions. So
visiting <code class="highlighter-rouge">#/songs</code> from my app caused the app to look up and load
<code class="highlighter-rouge">appkit/routes/songs/index</code>. What I didn’t realize was <em>this module must
live at a very specific place in the file directory structure</em>.
I realized that I left the module type in the file name the first time
around, like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes/
  songs/
    index_route.js
</code></pre></div></div>

<p>There are no types in the module names – or the filenames, for that
matter. I had not realized this (I’m also an AMD newbie) – so I had
left my files un-renamed as <code class="highlighter-rouge">songs_index_route</code>, which meant that
the module loader had stored the SongsIndexRoute module under
<code class="highlighter-rouge">appkit/routes/songs/index_route</code>, but was doing a route lookup through
the Resolver for: <code class="highlighter-rouge">appkit/routes/songs/index</code>. Renaming the file to:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>routes/
  songs/
    index.js
</code></pre></div></div>

<p>did the trick.</p>

			
			
		</div>
	<footer>
		<div class="article__categories">
  Tagged under
  
  
  <a class="article__category" href="/category/ember">ember</a>
  , 
  
  <a class="article__category" href="/category/ember-app-kit">ember app kit</a>
  , 
  
  <a class="article__category" href="/category/development">development</a>
  , 
  
  <a class="article__category" href="/category/programming">programming</a>
  
  
</div>

	
	
	</footer>
	
</article>
<!-- END OF _includes/article.html -->


  <section class="comments">
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


<!-- END OF _/layouts/post.html -->


			<footer>
				Copyright &copy; 2018

	The Sweet Spot


				

<script type="text/javascript">
      var disqus_shortname = 'g9labs';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://localhost:4000/2014/01/26/moving-to-ember-app-kit/';
        var disqus_url = 'http://localhost:4000/2014/01/26/moving-to-ember-app-kit/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











			</footer>

		</div> <!-- // .wrap -->
  </body>

	<script>
		$(document).ready(function() {
			// Make images center
			$('p:has(img)').css('text-align', 'center');

			// Add the image's title attribute as a caption
			$('p:has(img)').append(function () {
				return '<div class="caption">' + ($('img', this).attr('title') || "") + '</div>';
			});

			// Prettify code
			$('code').addClass('prettyprint');
			$('pre code').addClass('linenums');

			// Copy to clipboard with button
			$('pre:has(code)').prepend(function(){
				return '<div class="clip-btn">copy to clipboard</div>';
      });

			$('.clip-btn').zclip({
				path:'/js/ZeroClipboard.swf',
				copy: $(this).next('code').text(),
				afterCopy: function(){
					$(this).replaceWith('<div class="clip-btn">copied!');
					}
			});
		});
	</script>
</html>
<!-- END OF _layouts/default.html -->
